<!-- Page Header -->
<div class="page-header">
	<div class="row align-items-center">
		<div class="col">
			<h3 class="page-title">Manage Query Sub Types</h3>
		</div>
		<div class="col-auto float-right ml-auto">
			<button (click)="openModel()" data-toggle="modal" data-target="#openmodal" class="btn btn-custom green" *ngIf="access_permission == 'read_write'"><i class="fa fa-plus"></i> Add Query Sub Type</button>
		</div>
	</div>
</div>


<!-- /Page Header -->
<div class="row">
	<div class="col-md-12">
		<div class="card shadowbox">
			<div class="card-body">
				<div class="table-responsive">
					<table datatable [dtOptions]="dtOptions" class="table table-striped table-bordered custom-table srn action-table datatable w-100" id="excel-table"></table>
				</div>
			</div>
		</div>
	</div>
</div>

<div id="openmodal" class="modal custom-modal fade" tabindex="-1" role="dialog">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<form [formGroup]="formRecodEdit"  method="post" (ngSubmit)="submitForm()" >
				<input formControlName="id"  type="hidden" class="form-control" >
				<div class="modal-header">
					<h5 class="modal-title">{{ popupTitle }}</h5>
					<button (click)="closePopup()"  type="button" class="close" data-dismiss="modal" #closeAddExpenseModal>&times;</button>
				</div>
				<div class="modal-body">
					<div class="row">

						<!-- Query Type -->
						<div class="col-sm-12">
							<div class="form-group">
								<label>*Query Type:</label>
								<select class="form-control" formControlName="qtm_id" >
									<option value="">Select Query Type</option>
									<option value="{{ row.query_type_id }}" *ngFor="let row of queryData" >{{ row.name }}</option>
								</select>
								<div class="error" *ngIf="submitted && formRecodEdit.controls.qtm_id.errors" >
									<div *ngIf="submitted && formRecodEdit.controls.qtm_id.errors.required">
										Query Type is required.
									</div>
								</div>
							</div>
						</div>

						<!-- Query Sub Type-->
						<div class="col-sm-12">
							<div class="form-group">
								<label>*Query Sub Type:</label>
								<input formControlName="query_sub_type"  type="text" list="id-query_sub_type" class="form-control">
								<datalist id="id-query_sub_type">
									<option value="{{ row.query_sub_type }}" *ngFor="let row of makeData | sortBy: 'asc':'query_sub_type'">
								</datalist>
								<div class="error" *ngIf="submitted && formRecodEdit.controls.query_sub_type.errors" >
									<div *ngIf="submitted && formRecodEdit.controls.query_sub_type.errors.required">
										Query Sub Type is required.
									</div>
									<div *ngIf="submitted && formRecodEdit.controls.query_sub_type.errors.pattern">
										Only Alphabets accepts.
									</div>
								</div>
							</div>	
						</div>

						<!-- Department -->
						<div class="col-sm-12">
							<div class="form-group">
								<label>*Department:</label>
								<select class="form-control" formControlName="dept_id" >
									<option value="">Select Department</option>
									<option value="{{ row.department_id }}" *ngFor="let row of deptData" >{{ row.name }}</option>
								</select>
								<div class="error" *ngIf="submitted && formRecodEdit.controls.dept_id.errors" >
									<div *ngIf="submitted && formRecodEdit.controls.dept_id.errors.required">
										Department is required.
									</div>
								</div>
							</div>
						</div>

						<!-- Query Sub Type-->
						<div class="col-sm-12">
							<div class="form-group">
								<label>*TAT:</label>
								<!-- <input formControlName="tat"  type="text" list="id-tat" class="form-control"> -->
								<select class="form-control" formControlName="tat" >
									<option value="">Select TAT</option>
							        <option value="00:30:0 Minutes">00:30 Minutes</option>       
							        <option value="01:00:00 Hour">01:00 Hour</option>     
							        <option value="01:30:00 Hours">01:30 Hours</option>      
							        <option value="02:00:00 Hours">02:00 Hours</option>      
							        <option value="02:30:00 Hours">02:30 Hours</option>      
							        <option value="03:00:00 Hours">03:00 Hours</option>      
							        <option value="03:30:00 Hours">03:30 Hours</option>      
							        <option value="04:00:00 Hours">04:00 Hours</option>      
							        <option value="04:30:00 Hours">04:30 Hours</option>      
							        <option value="05:00:00 Hours">05:00 Hours</option>      
							        <option value="05:30:00 Hours">05:30 Hours</option>      
							        <option value="06:00:00 Hours">06:00 Hours</option>      
							        <option value="06:30:00 Hours">06:30 Hours</option>     
							        <option value="07:00:00 Hours">07:00 Hours</option>      
							        <option value="07:30:00 Hours">07:30 Hours</option>      
							        <option value="08:00:00 Hours">08:00 Hours</option>      
							        <option value="08:30:00 Hours">08:30 Hours</option>      
							        <option value="09:00:00 Hours">09:00 Hours</option>      
							        <option value="09:30:00 Hours">09:30 Hours</option>      
							        <option value="10:00:00 Hours">10:00 Hours</option>      
							        <option value="10:30:00 Hours">10:30 Hours</option>      
							        <option value="11:00:00 Hours">11:00 Hours</option>      
							        <option value="11:30:00 Hours">11:30 Hours</option>      
							        <option value="12:00:00 Hours">12:00 Hours</option>      
							        <option value="12:30:00 Hours">12:30 Hours</option>      
							        <option value="13:00:00 Hours">13:00 Hours</option>      
							        <option value="13:30:00 Hours">13:30 Hours</option>      
							        <option value="14:00:00 Hours">14:00 Hours</option>      
							        <option value="14:30:00 Hours">14:30 Hours</option>      
							        <option value="15:00:00 Hours">15:00 Hours</option>      
							        <option value="15:30:00 Hours">15:30 Hours</option>      
							        <option value="16:00:00 Hours">16:00 Hours</option>      
							        <option value="16:30:00 Hours">16:30 Hours</option>      
							        <option value="17:00:00 Hours">17:00 Hours</option>      
							        <option value="17:30:00 Hours">17:30 Hours</option>      
							        <option value="18:00:00 Hours">18:00 Hours</option>      
							        <option value="18:30:00 Hours">18:30 Hours</option>      
							        <option value="19:00:00 Hours">19:00 Hours</option>      
							        <option value="19:30:00 Hours">19:30 Hours</option>      
							        <option value="20:00:00 Hours">20:00 Hours</option>      
							        <option value="20:30:00 Hours">20:30 Hours</option>      
							        <option value="21:00:00 Hours">21:00 Hours</option>      
							        <option value="21:30:00 Hours">21:30 Hours</option>      
							        <option value="22:00:00 Hours">22:00 Hours</option>      
							        <option value="22:30:00 Hours">22:30 Hours</option>      
							        <option value="23:00:00 Hours">23:00 Hours</option>      
							        <option value="23:30:00 Hours">23:30 Hours</option>
							        <option value="24:00:00 Hours">24:00 Hours</option>
							        <option value="2">2 Days</option>
							        <option value="4">4 Days</option>
							        <option value="6">6 Days</option>
							        <option value="8">8 Days</option>
							        <option value="10">10 Days</option>
									
								</select>
								<div class="error" *ngIf="submitted && formRecodEdit.controls.tat.errors" >
									<div *ngIf="submitted && formRecodEdit.controls.tat.errors.required">
										This field is required.
									</div>
									<div *ngIf="submitted && formRecodEdit.controls.tat.errors.pattern">
										Only Numeric accepts.
									</div>
								</div>
							</div>	
						</div>

						<!-- Status -->
						<div class="col-sm-12">
							<div class="form-group">
								<label>Status:</label>
								<select class="form-control" formControlName="status" >
									<option value="">Select Status</option>
									<option value="{{ row.status_id }}" *ngFor="let row of statusData" >{{ row.lable }}</option>
								</select>
								<div class="error" *ngIf="submitted && formRecodEdit.controls.status.errors" >
									<div *ngIf="submitted && formRecodEdit.controls.status.errors.required">
										Status is required.
									</div>
								</div>
							</div>
						</div>

					</div>
						
					<div class="col-sm-12">
						<div class="form-group">
							<div class="alert {{msgClass}}" [ngStyle]="{'display':display}">
								<strong>{{responseMsg}}</strong>
							</div>
						</div>
					</div>

					<div class="submit-section">
						<input *ngIf="btnEditSubmit" class="btn btn-custom green btn-lg" type="submit" value="Submit">
					</div>
				</div>
			</form>
		</div>
	</div>
</div>


<app-managemotor-loader  [loaderActive]="loaderActive"></app-managemotor-loader>
